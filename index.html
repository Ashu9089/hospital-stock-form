<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè• Hospital Stock Entry Form</title>
</head>
<body>
    <h2>üè• Hospital Stock Entry Form</h2>
    <form id="stockForm">
        <label>Receiver Name:</label>
        <input type="text" id="receiverName" name="receiverName" required><br><br>

        <label>Supplier Name:</label>
        <input type="text" id="supplierName" name="supplierName" required><br><br>

        <label>Supplier Date & Time:</label>
        <input type="datetime-local" id="supplierDateTime" name="supplierDateTime" required><br><br>

        <label>Product Name:</label>
        <input type="text" id="productName" name="productName" required><br><br>

        <label>Quantity:</label>
        <input type="number" id="quantity" name="quantity" required><br><br>

        <button type="button" onclick="submitData()">Submit</button>
    </form>

    <script>
        function submitData() {
            const receiverName = document.getElementById("receiverName").value;
            const supplierName = document.getElementById("supplierName").value;
            const supplierDateTime = document.getElementById("supplierDateTime").value;
            const productName = document.getElementById("productName").value;
            const quantity = document.getElementById("quantity").value;

            const formData = {
                receiverName: receiverName,
                supplierName: supplierName,
                supplierDateTime: supplierDateTime,
                dateTime: new Date().toLocaleString(),
                stocks: [{ name: productName, quantity: quantity }]
            };

            const scriptURL = "https://script.google.com/macros/s/AKfycbzzBy09Ckvr2FBo0XzSj_AV8wCv26Q5E4fMvz-E_PS0VNmAESe295f31VXsf3QgNabx/exec";

            fetch(scriptURL, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(formData)
            })
            .then(response => response.json())
            .then(data => {
                if (data.result === "Success") {
                    alert("‚úÖ Data submitted successfully!");
                } else {
                    alert("‚ùå Submission failed: " + data.message);
                }
                console.log(data);
            })
            .catch(error => {
                console.error("‚ö†Ô∏è Error:", error);
                alert("Submission failed! Check console for details.");
            });
        }
    </script>
</body>
</html>
